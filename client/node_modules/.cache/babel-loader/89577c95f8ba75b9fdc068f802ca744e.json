{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\naima\\\\desktop\\\\Travel_Advisor\\\\client\\\\src\\\\Components\\\\Restaurants.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Autocomplete } from \"@react-google-maps/api\";\nimport { getPlacesData } from \"../Api/api\";\nimport { CircularProgress, Grid, Typography, InputLabel, MenuItem, FormControl, Select } from \"@material-ui/core\";\nimport useStyles from \"./Style.js\";\nimport Hotel from \"./Hotel\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Restaurants() {\n  _s();\n\n  const classes = useStyles();\n  const [isloading, setisLoading] = useState(false);\n  const [ville, setVille] = useState(\"Rabat\");\n\n  const changeCoordinates = e => {\n    e.preventDefault();\n    axios.get(`http://api.positionstack.com/v1/forward?access_key=7d757b80d5caa5fc1a3d5899dc686190&query=` + ville).then(res => {\n      setCordinates({\n        lat: res.data.data[0].latitude,\n        lng: res.data.data[0].longitude\n      });\n    });\n  };\n\n  const [cordinates, setCordinates] = useState({});\n  const [hotels, setHotels] = useState(null);\n  const [rating, setRating] = useState(0);\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(_ref => {\n      let {\n        coords: {\n          latitude,\n          longitude\n        }\n      } = _ref;\n      setCordinates({\n        lat: latitude,\n        lng: longitude\n      });\n    });\n  }, []);\n  useEffect(() => {\n    console.log(cordinates);\n    getPlacesData(cordinates.lat, cordinates.lng).then(data => {\n      setHotels(data);\n      console.log(data);\n      setisLoading(true);\n    });\n  }, [cordinates]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"input-group mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          class: \"form-control form-control-lg\",\n          placeholder: \"Where you want to go\",\n          onChange: e => setVille(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"input-group-text btn-info\",\n          onClick: changeCoordinates,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"bi bi-search me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), \" Explore\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: \"center\"\n      },\n      className: \"text-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"All Restaurants is here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n      className: classes.formControl,\n      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n        id: \"rating\",\n        children: \"Rating\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        id: \"rating\",\n        value: rating,\n        onChange: e => setRating(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"0\",\n          children: \"All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"3\",\n          children: \"Above 3.0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"4\",\n          children: \"Above 4.0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: \"4.5\",\n          children: \"Above 4.5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), isloading == false ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.loading,\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: \"5rem\",\n        className: \"mx-auto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row mt-5\",\n      children: hotels && hotels.filter(hotel => hotel.photo != null).filter(hotel => Number(hotel.rating) >= rating).map((hotel, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-4\",\n        children: [/*#__PURE__*/_jsxDEV(Hotel, {\n          hotel: hotel\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 19\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Restaurants, \"oHG+vpll2Bsg4mFytwmkCRQwKo8=\", false, function () {\n  return [useStyles];\n});\n\n_c = Restaurants;\nexport default Restaurants;\n\nvar _c;\n\n$RefreshReg$(_c, \"Restaurants\");","map":{"version":3,"names":["React","useEffect","useState","styled","Autocomplete","getPlacesData","CircularProgress","Grid","Typography","InputLabel","MenuItem","FormControl","Select","useStyles","Hotel","axios","Restaurants","classes","isloading","setisLoading","ville","setVille","changeCoordinates","e","preventDefault","get","then","res","setCordinates","lat","data","latitude","lng","longitude","cordinates","hotels","setHotels","rating","setRating","navigator","geolocation","getCurrentPosition","coords","console","log","target","value","textAlign","formControl","loading","filter","hotel","photo","Number","map","i"],"sources":["C:/Users/naima/desktop/Travel_Advisor/client/src/Components/Restaurants.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Autocomplete } from \"@react-google-maps/api\";\r\nimport { getPlacesData } from \"../Api/api\";\r\nimport {\r\n  CircularProgress,\r\n  Grid,\r\n  Typography,\r\n  InputLabel,\r\n  MenuItem,\r\n  FormControl,\r\n  Select,\r\n} from \"@material-ui/core\";\r\nimport useStyles from \"./Style.js\";\r\nimport Hotel from \"./Hotel\";\r\nimport axios from \"axios\";\r\n\r\nfunction Restaurants() {\r\n  const classes = useStyles();\r\n  const [isloading, setisLoading] = useState(false);\r\n  const [ville, setVille] = useState(\"Rabat\");\r\n  const changeCoordinates = (e) => {\r\n    e.preventDefault();\r\n\r\n    axios\r\n      .get(\r\n        `http://api.positionstack.com/v1/forward?access_key=7d757b80d5caa5fc1a3d5899dc686190&query=` +\r\n          ville\r\n      )\r\n      .then((res) => {\r\n        setCordinates({\r\n          lat: res.data.data[0].latitude,\r\n          lng: res.data.data[0].longitude,\r\n        });\r\n      });\r\n  };\r\n\r\n  const [cordinates, setCordinates] = useState({});\r\n  const [hotels, setHotels] = useState(null);\r\n  const [rating, setRating] = useState(0);\r\n\r\n  useEffect(() => {\r\n    navigator.geolocation.getCurrentPosition(\r\n      ({ coords: { latitude, longitude } }) => {\r\n        setCordinates({ lat: latitude, lng: longitude });\r\n      }\r\n    );\r\n  }, []);\r\n  useEffect(() => {\r\n    console.log(cordinates);\r\n    getPlacesData(cordinates.lat, cordinates.lng).then((data) => {\r\n      setHotels(data);\r\n      console.log(data);\r\n      setisLoading(true);\r\n    });\r\n  }, [cordinates]);\r\n\r\n  return (\r\n    <div>\r\n      <form>\r\n        <br></br>\r\n        <br></br>\r\n        <div class=\"input-group mb-3\">\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control form-control-lg\"\r\n            placeholder=\"Where you want to go\"\r\n            onChange={(e) => setVille(e.target.value)}\r\n          />\r\n          <button class=\"input-group-text btn-info\" onClick={changeCoordinates}>\r\n            <i class=\"bi bi-search me-2\"></i> Explore\r\n          </button>\r\n        </div>\r\n      </form>\r\n      <h1 style={{ textAlign: \"center\" }} className=\"text-info\">\r\n        <strong>All Restaurants is here</strong>{\" \"}\r\n      </h1>\r\n\r\n      <FormControl className={classes.formControl}>\r\n        <InputLabel id=\"rating\">Rating</InputLabel>\r\n        <Select\r\n          id=\"rating\"\r\n          value={rating}\r\n          onChange={(e) => setRating(e.target.value)}\r\n        >\r\n          <MenuItem value=\"0\">All</MenuItem>\r\n          <MenuItem value=\"3\">Above 3.0</MenuItem>\r\n          <MenuItem value=\"4\">Above 4.0</MenuItem>\r\n          <MenuItem value=\"4.5\">Above 4.5</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n      <br></br>\r\n      <br></br>\r\n      {isloading == false ? (\r\n        <div className={classes.loading}>\r\n          <CircularProgress size=\"5rem\" className=\"mx-auto\" />\r\n        </div>\r\n      ) : (\r\n        <div className=\"row mt-5\">\r\n          {hotels &&\r\n            hotels\r\n              .filter((hotel) => hotel.photo != null)\r\n              .filter((hotel) => Number(hotel.rating) >= rating)\r\n              .map((hotel, i) => (\r\n                <div key={i} className=\"col-4\">\r\n                  <Hotel hotel={hotel} key={i} />\r\n                  <br></br>\r\n                </div>\r\n              ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Restaurants;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,YAAT,QAA6B,wBAA7B;AACA,SAASC,aAAT,QAA8B,YAA9B;AACA,SACEC,gBADF,EAEEC,IAFF,EAGEC,UAHF,EAIEC,UAJF,EAKEC,QALF,EAMEC,WANF,EAOEC,MAPF,QAQO,mBARP;AASA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,SAASC,WAAT,GAAuB;EAAA;;EACrB,MAAMC,OAAO,GAAGJ,SAAS,EAAzB;EACA,MAAM,CAACK,SAAD,EAAYC,YAAZ,IAA4BjB,QAAQ,CAAC,KAAD,CAA1C;EACA,MAAM,CAACkB,KAAD,EAAQC,QAAR,IAAoBnB,QAAQ,CAAC,OAAD,CAAlC;;EACA,MAAMoB,iBAAiB,GAAIC,CAAD,IAAO;IAC/BA,CAAC,CAACC,cAAF;IAEAT,KAAK,CACFU,GADH,CAEK,4FAAD,GACEL,KAHN,EAKGM,IALH,CAKSC,GAAD,IAAS;MACbC,aAAa,CAAC;QACZC,GAAG,EAAEF,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiBC,QADV;QAEZC,GAAG,EAAEL,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAc,CAAd,EAAiBG;MAFV,CAAD,CAAb;IAID,CAVH;EAWD,CAdD;;EAgBA,MAAM,CAACC,UAAD,EAAaN,aAAb,IAA8B1B,QAAQ,CAAC,EAAD,CAA5C;EACA,MAAM,CAACiC,MAAD,EAASC,SAAT,IAAsBlC,QAAQ,CAAC,IAAD,CAApC;EACA,MAAM,CAACmC,MAAD,EAASC,SAAT,IAAsBpC,QAAQ,CAAC,CAAD,CAApC;EAEAD,SAAS,CAAC,MAAM;IACdsC,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CACE,QAAyC;MAAA,IAAxC;QAAEC,MAAM,EAAE;UAAEX,QAAF;UAAYE;QAAZ;MAAV,CAAwC;MACvCL,aAAa,CAAC;QAAEC,GAAG,EAAEE,QAAP;QAAiBC,GAAG,EAAEC;MAAtB,CAAD,CAAb;IACD,CAHH;EAKD,CANQ,EAMN,EANM,CAAT;EAOAhC,SAAS,CAAC,MAAM;IACd0C,OAAO,CAACC,GAAR,CAAYV,UAAZ;IACA7B,aAAa,CAAC6B,UAAU,CAACL,GAAZ,EAAiBK,UAAU,CAACF,GAA5B,CAAb,CAA8CN,IAA9C,CAAoDI,IAAD,IAAU;MAC3DM,SAAS,CAACN,IAAD,CAAT;MACAa,OAAO,CAACC,GAAR,CAAYd,IAAZ;MACAX,YAAY,CAAC,IAAD,CAAZ;IACD,CAJD;EAKD,CAPQ,EAON,CAACe,UAAD,CAPM,CAAT;EASA,oBACE;IAAA,wBACE;MAAA,wBACE;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA;QAAA;QAAA;MAAA,QAFF,eAGE;QAAK,KAAK,EAAC,kBAAX;QAAA,wBACE;UACE,IAAI,EAAC,MADP;UAEE,KAAK,EAAC,8BAFR;UAGE,WAAW,EAAC,sBAHd;UAIE,QAAQ,EAAGX,CAAD,IAAOF,QAAQ,CAACE,CAAC,CAACsB,MAAF,CAASC,KAAV;QAJ3B;UAAA;UAAA;UAAA;QAAA,QADF,eAOE;UAAQ,KAAK,EAAC,2BAAd;UAA0C,OAAO,EAAExB,iBAAnD;UAAA,wBACE;YAAG,KAAK,EAAC;UAAT;YAAA;YAAA;YAAA;UAAA,QADF;QAAA;UAAA;UAAA;UAAA;QAAA,QAPF;MAAA;QAAA;QAAA;QAAA;MAAA,QAHF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAgBE;MAAI,KAAK,EAAE;QAAEyB,SAAS,EAAE;MAAb,CAAX;MAAoC,SAAS,EAAC,WAA9C;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,EAC2C,GAD3C;IAAA;MAAA;MAAA;MAAA;IAAA,QAhBF,eAoBE,QAAC,WAAD;MAAa,SAAS,EAAE9B,OAAO,CAAC+B,WAAhC;MAAA,wBACE,QAAC,UAAD;QAAY,EAAE,EAAC,QAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,MAAD;QACE,EAAE,EAAC,QADL;QAEE,KAAK,EAAEX,MAFT;QAGE,QAAQ,EAAGd,CAAD,IAAOe,SAAS,CAACf,CAAC,CAACsB,MAAF,CAASC,KAAV,CAH5B;QAAA,wBAKE,QAAC,QAAD;UAAU,KAAK,EAAC,GAAhB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QALF,eAME,QAAC,QAAD;UAAU,KAAK,EAAC,GAAhB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QANF,eAOE,QAAC,QAAD;UAAU,KAAK,EAAC,GAAhB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAPF,eAQE,QAAC,QAAD;UAAU,KAAK,EAAC,KAAhB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QARF;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QApBF,eAiCE;MAAA;MAAA;MAAA;IAAA,QAjCF,eAkCE;MAAA;MAAA;MAAA;IAAA,QAlCF,EAmCG5B,SAAS,IAAI,KAAb,gBACC;MAAK,SAAS,EAAED,OAAO,CAACgC,OAAxB;MAAA,uBACE,QAAC,gBAAD;QAAkB,IAAI,EAAC,MAAvB;QAA8B,SAAS,EAAC;MAAxC;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADD,gBAKC;MAAK,SAAS,EAAC,UAAf;MAAA,UACGd,MAAM,IACLA,MAAM,CACHe,MADH,CACWC,KAAD,IAAWA,KAAK,CAACC,KAAN,IAAe,IADpC,EAEGF,MAFH,CAEWC,KAAD,IAAWE,MAAM,CAACF,KAAK,CAACd,MAAP,CAAN,IAAwBA,MAF7C,EAGGiB,GAHH,CAGO,CAACH,KAAD,EAAQI,CAAR,kBACH;QAAa,SAAS,EAAC,OAAvB;QAAA,wBACE,QAAC,KAAD;UAAO,KAAK,EAAEJ;QAAd,GAA0BI,CAA1B;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA,GAAUA,CAAV;QAAA;QAAA;QAAA;MAAA,QAJJ;IAFJ;MAAA;MAAA;MAAA;IAAA,QAxCJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAwDD;;GAhGQvC,W;UACSH,S;;;KADTG,W;AAkGT,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}